!function(global,undefined){function normPath(path){for(path=path.replace(DOT_RE,"/"),path=path.replace(MULTI_SLASH_RE,"$1/");path.match(DOUBLE_DOT_RE);)path=path.replace(DOUBLE_DOT_RE,"/");return path}function dirname(path){return path.match(/[^?#]*\//)[0]}function absSrc(script){return script.hasAttribute?script.src:script.getAttribute("src",4)}function getCurrentScript(){if(document.currentScript)return absSrc(document.currentScript);if(isSync)return currentScript;try{throwAnError()}catch(e){var stack=e.stack;if(e.stacktrace&&(stack=e.toString()),stack){var reg=/(http|https|file):\/\/[^ ]+\.js/g,matches=stack.match(reg);return matches.pop()}}for(var i=0,l=scripts.length;l>i;++i){var script=scripts[i];if("interactive"===script.readyState)return absSrc(script)}return isSync=!0,currentScript}function id2Uri(id,referer){var uri=id;return referer&&0===id.indexOf(".")?uri=normPath(dirname(referer)+id):PROTOCOL_RE.test(id)?0===uri.indexOf("//")&&(uri=document.location.protocol+uri):uri=normPath(base+id),/\.js($|\?)/.test(uri)||(uri+=".js"),uri}function uri2Id(uri){var id=uri.replace(base,"");return".js"===id.slice(-3)&&(id=id.substring(0,id.length-3)),id}function resolveUriMap(uri){for(var key in uriMap)for(var list=uriMap[key],i=0,l=list.length;l>i;++i)if(list[i]===uri)return key;return uri}function loadModule(uri){if(moduleMap[uri]||(moduleMap[uri]={id:uri2Id(uri),uri:uri,factory:null,exports:null,dependencies:null,remains:0}),config.debug||(uri=resolveUriMap(uri)),!loadedMap[uri]){if(loadedMap[uri]=!0,getCurrentScript()&&isSync)return void syncQueue.push(uri);currentScript=uri;var script;script=document.createElement("script"),script.src=uri,script.charset=config.charset,script.async=!0,setTimeout(function(){script.onload=script.onreadystatechange=function(){(!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,head.removeChild(script),script=null),currentScript="",isSync&&syncQueue.length&&loadModule(syncQueue.shift())},head.insertBefore(script,head.firstChild)})}}function requireFactory(uri){var require=function(id){var uri=id2Uri(id,uri);return moduleMap[uri].exports};return require.resolve=function(id){return id2Uri(id,uri)},require.async=function(ids,callback){var depUri,deps=[];"string"==typeof ids&&(ids=[ids]),callback.deps=deps,callback.remains=ids.length;for(var i=0,l=ids.length;l>i;++i)depUri=id2Uri(ids[i],uri),loadModule(depUri),waitingMap[depUri]=waitingMap[depUri]||[],waitingMap[depUri].push(callback),deps.push(depUri)},require}function emitCallback(callback){for(var args=[],deps=callback.deps,i=0,l=deps.length;l>i;++i)args.push(moduleMap[deps[i]].exports);delete callback.deps,delete callback.remains,callback.apply(null,args)}function emitload(module){var require,exports,uri=module.uri,factory=module.factory;delete module.remains,"function"==typeof factory&&(require=requireFactory(uri),exports=factory(require,module.exports,module),module.exports=exports||module.exports);var waiting,waitingList=waitingMap[uri];if(waitingList){delete waitingMap[uri];for(var i=0,l=waitingList.length;l>i;++i)waiting=waitingList[i],0===--waiting.remains&&("function"==typeof waiting?emitCallback(waiting):emitload(waiting))}}function parseDeps(factory){for(var re=/(^|\b)(?!_)require\( *[\'\"][^\'\"]+[\'\"] *\)/g,code=factory.toString(),deps=code.match(re)||[],i=0,l=deps.length;l>i;++i)deps[i]=deps[i].replace(/require\( *[\'\"]([^\'\"]+)[\'\"] *\)/,"$1");return deps}function saveModule(uri,factory){var exports,deps,module=moduleMap[uri];"function"==typeof factory?(exports={},deps=parseDeps(factory)):(exports=factory,deps=[]),module.factory=factory,module.exports=exports,module.dependencies=deps,module.remains=deps.length;for(var i=0,l=deps.length;l>i;++i){var depUri=id2Uri(deps[i],uri),depModule=moduleMap[depUri];depModule&&depModule.remains===undefined?--module.remains:(loadModule(depUri),waitingMap[depUri]=waitingMap[depUri]||[],waitingMap[depUri].push(module))}0===module.remains&&emitload(module)}if(!global.gojs){var base,gojs=global.gojs={version:"1.1.0"},DOT_RE=/\/\.\//g,MULTI_SLASH_RE=/([^:/])\/+\//g,DOUBLE_DOT_RE=/\/[^/]+\/\.\.\//,PROTOCOL_RE=/^(http:|https:|file:)?\/\//,config={map:{},base:"",main:"",debug:!1,charset:"utf-8"},uriMap={},scripts=document.scripts,goScript=scripts[scripts.length-1],dataset=goScript.dataset;if(gojs.config=function(data){if(data===undefined)return config;for(var key in config)config[key]=data[key]||config[key];if(base=config.base,PROTOCOL_RE.test(base)?0===base.indexOf("//")&&(base=document.location.protocol+base):base=dirname(document.location.href)+base,"/"!==base.slice(-1)&&(base+="/"),!config.debug){var idList,uriList,idMap=config.map;for(var id in idMap){idList=idMap[id],uriList=[];for(var i=0,l=idList.length;l>i;++i)uriList.push(id2Uri(idList[i]));uriMap[id2Uri(id)]=uriList}}},gojs.init=function(main){main&&gojs.config({main:main}),loadModule(id2Uri(config.main,absSrc(goScript)))},dataset===undefined){dataset={};for(var attrs=goScript.attributes,i=0,l=attrs.length;l>i;++i){var item=attrs[i],nodeName=item.nodeName,nodeValue=item.nodeValue;0===nodeName.indexOf("data-")&&(dataset[nodeName.replace("data-","")]=nodeValue)}}gojs.config(dataset);var loadedMap={},moduleMap={},waitingMap={},syncQueue=[],isSync=!1,currentScript="",head=document.head||document.getElementsByTagName("head")[0];global.define=function(factory){var uri=getCurrentScript();if(!config.debug){var index,list=uriMap[uri];list&&(index=list.index||0,uri=list[index],list.index=index+1)}saveModule(uri,factory)},global.define.cmd={},config.main&&gojs.init()}}(this);